# ID Generator Web-Application

Simple Web-Application for https://github.com/witcom-gmbh/id-generator

## Configuration
The application's configuration is loaded from a json configuration-file at runtime by an XHR-Request. The config-file is located in ./assets/configdata/appconfig.json

The schema is like this

```
{
"APP_KEYCLOAK_URL":"https://KEYCLOAK-FQDN/auth",
"APP_KEYCLOAK_REALM":"REALM-NAME",
"APP_KEYCLOAK_CLIENT_ID":"id-generator-webapp",
"APP_API_URL":"URL-TO-ID-GENERATOR-API"
}
```

During development this file is generated by the set-env.ts script. For production the file can be included as configmap or be generated by an init-container from ENV-Vars

## Deploying on Kubernetes
See Helmchart for deploying the application (generator + webapp). It is recommended to run it within a NGINX-CContainer (ubi8/nginx). For handling Angular-Applications right, the NGINX-Config has to be custommized (see nginx-runtime/nginx-default-cfg/base.conf)

## Building Docker-Container
Use the provided Dockerfile to build it

## Deyploying on OpenShift 
The application can be deployed on openshift with the template-file openshift-template.yaml. The templates features

* Chained build of the angular webapp. The runtime is a static webapp runnign on Nginx
* Route with lets-encrpyt-certificate (requires tls-acme-controller)
